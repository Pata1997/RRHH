{% extends "base.html" %}

{% block title %}Nuevo Ingreso Extra{% endblock %}

{% block content %}
<div class="container mt-4">
    <h3>Nuevo Ingreso Extra</h3>

    <form method="post" enctype="multipart/form-data">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <div class="mb-3">
            <label class="form-label">Empleado</label>
            {% if empleado %}
                <input type="hidden" name="empleado_id" value="{{ empleado.id }}">
                <p>{{ empleado.nombre_completo }} ({{ empleado.codigo }})</p>
            {% else %}
                <select name="empleado_id" class="form-control">
                    {% for e in empleados %}
                        <option value="{{ e.id }}">{{ e.nombre_completo }} - {{ e.codigo }}</option>
                    {% endfor %}
                </select>
            {% endif %}
        </div>

        <div class="mb-3">
            <label class="form-label">Tipo</label>
            <input class="form-control" name="tipo" placeholder="Bonificación, Comisión, etc.">
        </div>

        <div class="mb-3">
            <label class="form-label">Monto</label>
            <input class="form-control" name="monto" placeholder="0.00">
        </div>

        <div class="mb-3">
            <label class="form-label">Período</label>
            <input type="month" name="periodo" class="form-control" value="{{ periodo_default }}">
        </div>

        <div class="mb-3">
            <label class="form-label">Descripción</label>
            <textarea class="form-control" name="descripcion"></textarea>
        </div>

        <div class="mb-3">
            <label class="form-label">Justificativo (opcional)</label>
            <input type="file" name="justificativo" class="form-control">
        </div>

        <button class="btn btn-primary" type="submit">Crear</button>
        <a class="btn btn-secondary" href="{{ url_for('rrhh.ver_ingresos_extras') }}">Cancelar</a>
    </form>
</div>
{% endblock %}
